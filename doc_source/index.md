# AWS CloudHSM User Guide

-----
*****Copyright &copy; Amazon Web Services, Inc. and/or its affiliates. All rights reserved.*****

-----
Amazon's trademarks and trade dress may not be used in 
     connection with any product or service that is not Amazon's, 
     in any manner that is likely to cause confusion among customers, 
     or in any manner that disparages or discredits Amazon. All other 
     trademarks not owned by Amazon are the property of their respective
     owners, who may or may not be affiliated with, connected to, or 
     sponsored by Amazon.

-----
## Contents
+ [What is AWS CloudHSM?](introduction.md)
   + [AWS CloudHSM use cases](use-cases.md)
   + [AWS CloudHSM clusters](clusters.md)
   + [AWS CloudHSM cluster backups](backups.md)
   + [AWS CloudHSM Client SDK](client-tools-and-libraries.md)
   + [HSM users](hsm-users.md)
   + [Pricing](pricing.md)
   + [Regions](regions.md)
   + [AWS CloudHSM quotas](limits.md)
      + [System resources](system-resources.md)
+ [Getting started with AWS CloudHSM](getting-started.md)
   + [Create IAM administrative groups](create-iam-user.md)
   + [Create a virtual private cloud (VPC)](create-vpc.md)
   + [Create a private subnet](create-subnets.md)
   + [Create a cluster](create-cluster.md)
   + [Review cluster security group](configure-sg.md)
   + [Launch an Amazon EC2 client instance](launch-client-instance.md)
   + [Connect Amazon EC2 instance to AWS CloudHSM cluster](configure-sg-client-instance.md)
   + [Create an HSM](create-hsm.md)
   + [Verify the identity and authenticity of your cluster's HSM (optional)](verify-hsm-identity.md)
   + [Initialize the cluster](initialize-cluster.md)
   + [Install and configure the AWS CloudHSM client (Linux)](install-and-configure-client-linux.md)
   + [Install and configure the AWS CloudHSM client (Windows)](install-and-configure-client-win.md)
   + [Activate the cluster](activate-cluster.md)
   + [Reconfigure SSL with a new certificate and private key (optional)](getting-started-ssl.md)
   + [Build an application](create-apps.md)
+ [Managing AWS CloudHSM clusters](manage-clusters.md)
   + [Connect the client SDK to the AWS CloudHSM cluster](cluster-connect.md)
   + [Adding or removing HSMs in an AWS CloudHSM cluster](add-remove-hsm.md)
   + [Deleting an AWS CloudHSM cluster](delete-cluster.md)
   + [Creating AWS CloudHSM clusters from backups](create-cluster-from-backup.md)
   + [Best practices for AWS CloudHSM](best-practices.md)
+ [Managing AWS CloudHSM backups](manage-backups.md)
   + [Deleting and restoring backups](delete-restore-backup.md)
   + [Configuring AWS CloudHSM backup retention policy](manage-backup-retention.md)
   + [Copying backups across AWS Regions](copy-backup-to-region.md)
+ [Tagging AWS CloudHSM resources](tag-resources.md)
+ [Managing HSM users and keys in AWS CloudHSM](manage-hsm-users-and-keys.md)
   + [Managing HSM users in AWS CloudHSM](manage-hsm-users.md)
      + [Using CloudHSM Management Utility (CMU) to manage users](cli-users.md)
      + [Managing two-factor authentication (2FA) for crypto officers](manage-2fa.md)
      + [Managing quorum authentication (M of N access control)](quorum-authentication.md)
         + [Using quorum authentication for crypto officers: first time setup](quorum-authentication-crypto-officers-first-time-setup.md)
         + [Using quorum authentication for crypto officers](quorum-authentication-crypto-officers.md)
         + [Change the quorum minimum value for crypto officers](quorum-authentication-crypto-officers-change-minimum-value.md)
   + [Managing keys in AWS CloudHSM](manage-keys.md)
      + [Key synchronization in AWS CloudHSM](manage-key-sync.md)
      + [Using trusted keys to control key unwraps](cloudhsm_using_trusted_keys_control_key_wrap.md)
      + [AES key wrapping in AWS CloudHSM](manage-aes-key-wrapping.md)
      + [Using the command line to manage keys](using-kmu.md)
   + [Managing cloned clusters](cloned-clusters.md)
+ [AWS CloudHSM command line tools](command-line-tools.md)
   + [CloudHSM Management Utility (CMU)](cloudhsm_mgmt_util.md)
      + [Getting started with CloudHSM Management Utility (CMU)](cloudhsm_mgmt_util-getting-started.md)
      + [cloudhsm_mgmt_util command reference](cloudhsm_mgmt_util-reference.md)
         + [changePswd](cloudhsm_mgmt_util-changePswd.md)
         + [createUser](cloudhsm_mgmt_util-createUser.md)
         + [deleteUser](cloudhsm_mgmt_util-deleteUser.md)
         + [findAllKeys](cloudhsm_mgmt_util-findAllKeys.md)
         + [getAttribute](cloudhsm_mgmt_util-getAttribute.md)
         + [getCert](cloudhsm_mgmt_util-getCert.md)
         + [getHSMInfo](cloudhsm_mgmt_util-getHSMInfo.md)
         + [getKeyInfo](cloudhsm_mgmt_util-getKeyInfo.md)
         + [info](cloudhsm_mgmt_util-info.md)
         + [listAttributes](cloudhsm_mgmt_util-listAttributes.md)
         + [listUsers](cloudhsm_mgmt_util-listUsers.md)
         + [loginHSM and logoutHSM](cloudhsm_mgmt_util-loginLogout.md)
         + [registerQuorumPubKey](cloudhsm_mgmt_util-registerQuorumPubKey.md)
         + [server](cloudhsm_mgmt_util-server.md)
         + [setAttribute](cloudhsm_mgmt_util-setAttribute.md)
         + [quit](cloudhsm_mgmt_util-quit.md)
         + [shareKey](cloudhsm_mgmt_util-shareKey.md)
         + [syncKey](cloudhsm_mgmt_util-syncKey.md)
         + [syncUser](cloudhsm_mgmt_util-syncUser.md)
      + [AWS CloudHSM management utility platform support](cmu-support.md)
   + [Key Management Utility (KMU)](key_mgmt_util.md)
      + [Getting started with key_mgmt_util](key_mgmt_util-getting-started.md)
      + [key_mgmt_util command reference](key_mgmt_util-reference.md)
         + [aesWrapUnwrap](key_mgmt_util-aesWrapUnwrap.md)
         + [deleteKey](key_mgmt_util-deleteKey.md)
         + [Error2String](key_mgmt_util-Error2String.md)
         + [exit](key_mgmt_util-exit.md)
         + [exportPrivateKey](key_mgmt_util-exportPrivateKey.md)
         + [exportPubKey](key_mgmt_util-exportPubKey.md)
         + [exSymKey](key_mgmt_util-exSymKey.md)
         + [extractMaskedObject](key_mgmt_util-extractMaskedObject.md)
         + [findKey](key_mgmt_util-findKey.md)
         + [findSingleKey](key_mgmt_util-findSingleKey.md)
         + [genDSAKeyPair](key_mgmt_util-genDSAKeyPair.md)
         + [genECCKeyPair](key_mgmt_util-genECCKeyPair.md)
         + [genPBEKey](key_mgmt_util-genPBEKey.md)
         + [genRSAKeyPair](key_mgmt_util-genRSAKeyPair.md)
         + [genSymKey](key_mgmt_util-genSymKey.md)
         + [getAttribute](key_mgmt_util-getAttribute.md)
         + [getCaviumPrivKey](key_mgmt_util-getCaviumPrivKey.md)
         + [getCert](key_mgmt_util-getCert.md)
         + [getKeyInfo](key_mgmt_util-getKeyInfo.md)
         + [help](key_mgmt_util-help.md)
         + [importPrivateKey](key_mgmt_util-importPrivateKey.md)
         + [importPubKey](key_mgmt_util-importPubKey.md)
         + [imSymKey](key_mgmt_util-imSymKey.md)
         + [insertMaskedObject](key_mgmt_util-insertMaskedObject.md)
         + [IsValidKeyHandlefile](key_mgmt_util-IsValidKeyHandlefile.md)
         + [listAttributes](key_mgmt_util-listAttributes.md)
         + [listUsers](key_mgmt_util-listUsers.md)
         + [loginHSM and logoutHSM](key_mgmt_util-loginHSM.md)
         + [setAttribute](key_mgmt_util-setAttribute.md)
         + [sign](key_mgmt_util-sign.md)
         + [unWrapKey](key_mgmt_util-unwrapKey.md)
         + [verify](key_mgmt_util-verify.md)
         + [wrapKey](key_mgmt_util-wrapKey.md)
         + [Key Attribute Reference](key-attribute-table.md)
   + [Configure tool](configure-tool.md)
      + [Client SDK 3 configure tool](configure-sdk-3.md)
      + [Client SDK 5 configure tool](configure-sdk-5.md)
+ [AWS CloudHSM Client SDKs](use-hsm.md)
   + [Choose a Client SDK version to work with AWS CloudHSM](choose-client-sdk.md)
      + [Download AWS CloudHSM Client SDK](client-history.md)
      + [Supported platforms for the client SDKs](client-supported-platforms.md)
         + [Client SDK 3 platform support](sdk3-support.md)
         + [Client SDK 5 platform support](sdk8-support.md)
      + [Migrate from Client SDK 3 to Client SDK 5](migrate-sdk.md)
      + [Upgrade Client SDK 3 on Linux](client-upgrade.md)
   + [PKCS #11 library](pkcs11-library.md)
      + [Installing the PKCS #11 library](pkcs11-library-install.md)
         + [Install PKCS #11 library Client SDK 3](install-pkcs11-v3.md)
         + [Install PKCS #11 library Client SDK 5](install-pkcs11-v4.md)
      + [Authenticating to the PKCS #11 library](pkcs11-pin.md)
      + [Supported key types](pkcs11-key-types.md)
      + [Supported mechanisms](pkcs11-mechanisms.md)
      + [Supported API operations](pkcs11-apis.md)
      + [Supported attributes](pkcs11-attributes.md)
      + [Code samples for the PKCS #11 library](pkcs11-samples.md)
   + [OpenSSL Dynamic Engine](openssl-library.md)
      + [OpenSSL Dynamic Engine Client SDK 3](openssl3-install.md)
      + [OpenSSL Dynamic Engine Client SDK 5](openssl5-install.md)
   + [JCE provider](java-library.md)
      + [JCE provider Client SDK 3](java-library_3.md)
         + [Install and use the AWS CloudHSM JCE provider for Client SDK 3](java-library-install.md)
         + [Supported mechanisms for Client SDK 3](java-lib-supported.md)
         + [Supported Java attributes for Client SDK 3](java-lib-attributes.md)
         + [Code samples for the AWS CloudHSM software library for Java for Client SDK 3](java-samples.md)
         + [Using AWS CloudHSM KeyStore Java class for Client SDK 3](alternative-keystore.md)
      + [JCE provider Client SDK 5](java-library_5.md)
         + [Install and use the AWS CloudHSM JCE provider for Client SDK 5](java-library-install_5.md)
         + [Supported mechanisms for Client SDK 5](java-lib-supported_5.md)
         + [Supported Java attributes for Client SDK 5](java-lib-attributes_5.md)
         + [Code samples for the AWS CloudHSM software library for Java for Client SDK 5](java-samples_5.md)
         + [Using AWS CloudHSM KeyStore Java class for Client SDK 5](alternative-keystore_5.md)
   + [Cryptography API: Next Generation (CNG) and key storage providers (KSP) for Microsoft Windows](ksp-library.md)
      + [Verify the KSP and CNG Providers for Windows](ksp-library-install.md)
      + [Windows AWS CloudHSM prerequisites](ksp-library-prereq.md)
      + [Associate a AWS CloudHSM key with a certificate](ksp-library-associate-key-certificate.md)
      + [Code sample for CNG provider](ksp-library-sample.md)
+ [Integrating third-party applications with AWS CloudHSM](third-party-applications.md)
   + [Improve your web server security with SSL/TLS offload in AWS CloudHSM](ssl-offload.md)
      + [How SSL/TLS offload with AWS CloudHSM works](ssl-offload-overview.md)
      + [Tutorial: Using SSL/TLS offload with AWS CloudHSM on Linux](ssl-offload-linux.md)
         + [Step 1: Set up the prerequisites](ssl-offload-prerequisites.md)
         + [Step 2: Generate or import a private key and SSL/TLS certificate](ssl-offload-import-or-generate-private-key-and-certificate.md)
         + [Step 3: Configure the web server](ssl-offload-configure-web-server.md)
         + [Step 4: Enable HTTPS traffic and verify the certificate](ssl-offload-enable-traffic-and-verify-certificate.md)
         + [Step 5 (Optional): Add a load balancer with Elastic Load Balancing](ssl-offload-add-load-balancing.md)
      + [Tutorial: Using SSL/TLS offload with AWS CloudHSM on Windows](ssl-offload-windows.md)
         + [Step 1: Set up the prerequisites](ssl-offload-prerequisites-windows.md)
         + [Step 2: Create a certificate signing request (CSR) and certificate](ssl-offload-windows-create-csr-and-certificate.md)
         + [Step 3: Configure the web server](ssl-offload-configure-web-server-windows.md)
         + [Step 4: Enable HTTPS traffic and verify the certificate](ssl-offload-enable-traffic-and-verify-certificate-windows.md)
         + [(Optional) Step 5: Add a load balancer with Elastic Load Balancing](ssl-offload-add-load-balancing-windows.md)
   + [Configure Windows Server as a certificate authority (CA) with AWS CloudHSM](win-ca-overview.md)
      + [Windows Server CA step 1: Set up the prerequisites](win-ca-prerequisites.md)
      + [Windows Server CA step 2: Create a Windows Server CA with AWS CloudHSM](win-ca-setup.md)
      + [Windows Server CA step 3: Sign a certificate signing request (CSR) with your Windows Server CA with AWS CloudHSM](win-ca-sign-csr.md)
   + [Oracle database transparent data encryption (TDE) with AWS CloudHSM](oracle-tde.md)
      + [Oracle TDE with AWS CloudHSM: Set up the prerequisites](oracle-tde-prerequisites.md)
      + [Oracle TDE with AWS CloudHSM: Configure the database and generate the master encryption key](oracle-tde-configure-database-and-generate-master-key.md)
   + [Use Microsoft SignTool with AWS CloudHSM to sign files](signtool.md)
      + [Microsoft SignTool with AWS CloudHSM step 1: Set up the prerequisites](signtool-prereqs.md)
      + [Microsoft SignTool with AWS CloudHSM step 2: Create a signing certificate](signtool-csr.md)
      + [Microsoft SignTool with AWS CloudHSM step 3: Sign a file](signtool-sign.md)
   + [Java Keytool and Jarsigner](third_java-sdk_integration.md)
      + [Using Client SDK 3 to integrate with Java Keytool and Jarsigner](keystore-third-party-tools.md)
      + [Using Client SDK 5 to integrate with Java Keytool and Jarsigner](keystore-third-party-tools_5.md)
   + [Other third-party vendor integrations](other-integrations.md)
+ [Monitoring AWS CloudHSM](get-logs.md)
   + [Working with client SDK logs](hsm-client-logs.md)
   + [Working with AWS CloudTrail and AWS CloudHSM](get-api-logs-using-cloudtrail.md)
   + [Working with Amazon CloudWatch Logs and AWS CloudHSM](get-hsm-audit-logs-using-cloudwatch.md)
      + [How HSM audit logging works](get-audit-logs-from-cloudwatch.md)
      + [Viewing HSM audit logs in CloudWatch Logs](understand-audit-logs.md)
      + [Interpreting HSM audit logs](interpreting-audit-logs.md)
      + [HSM audit log reference](cloudhsm-audit-log-reference.md)
   + [Getting CloudWatch metrics for AWS CloudHSM](hsm-metrics-cw.md)
+ [Security in AWS CloudHSM](security.md)
   + [Data protection in AWS CloudHSM](data-protection.md)
      + [AWS CloudHSM client end-to-end encryption](client-end-to-end-encryption.md)
   + [Identity and access management for AWS CloudHSM](identity-access-management.md)
      + [Service-linked roles for AWS CloudHSM](service-linked-roles.md)
   + [FIPS validation](fips-validation.md)
   + [Resilience in AWS CloudHSM](disaster-recovery-resiliency.md)
   + [Infrastructure security in AWS CloudHSM](infrastructure-security.md)
   + [AWS CloudHSM and VPC endpoints](cloudhsm-vpc-endpoint.md)
   + [Update management in AWS CloudHSM](update-management.md)
+ [Troubleshooting AWS CloudHSM](troubleshooting.md)
   + [Known issues](KnownIssues.md)
      + [Known issues for all HSM instances](ki-all.md)
      + [Known issues for the PKCS #11 library](ki-pkcs11-sdk.md)
      + [Known issues for the JCE SDK](ki-jce-sdk.md)
      + [Known issues for the OpenSSL Dynamic Engine](ki-openssl-sdk.md)
      + [Known issues for Amazon EC2 instances running Amazon Linux 2](ki-al2.md)
      + [Known issues for integrating third-party applications](ki-third-party.md)
   + [Lost connection to the cluster](troubleshooting-lost-connection.md)
   + [Keep HSM users in sync across HSMs in the cluster](troubleshooting-keep-hsm-users-in-sync.md)
   + [Verify the performance of the HSM](troubleshooting-verify-hsm-performance.md)
   + [Resolving cluster creation failures](troubleshooting-create-cluster.md)
   + [Missing AWS CloudHSM audit logs in CloudWatch](troubleshooting-missing-audit-logs.md)
   + [Retrieving client configuration logs](troubleshooting-log-collection-script.md)
   + [Custom IVs with non-compliant length for AES key wrap](troubleshooting-aes-keys.md)
   + [Client SDK 3 key synchronization failures](ts-client-sync-fail.md)
+ [Document history](document-history.md)